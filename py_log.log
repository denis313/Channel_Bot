[2024-07-22 00:24:17,601] #DEBUG    win32.py:58 - tzlocal - Looking up time zone info from registry
[2024-07-22 00:24:17,664] #INFO     base.py:454 - apscheduler.scheduler - Adding job tentatively -- it will be properly scheduled when the scheduler starts
[2024-07-22 00:24:17,673] #INFO     base.py:895 - apscheduler.scheduler - Added job "check_status" to job store "default"
[2024-07-22 00:24:17,673] #INFO     base.py:181 - apscheduler.scheduler - Scheduler started
[2024-07-22 00:24:17,677] #DEBUG    base.py:954 - apscheduler.scheduler - Looking for jobs to run
[2024-07-22 00:24:17,678] #DEBUG    base.py:1034 - apscheduler.scheduler - Next wakeup is due at 2024-07-23 00:00:00+03:00 (in 84942.321472 seconds)
[2024-07-22 00:24:18,005] #INFO     dispatcher.py:527 - aiogram.dispatcher - Start polling
[2024-07-22 00:24:18,099] #INFO     dispatcher.py:341 - aiogram.dispatcher - Run polling for bot @Bot_for_schoolbot id=7417513030 - 'SchoolBot'
[2024-07-22 00:27:27,894] #INFO     base.py:1846 - sqlalchemy.engine.Engine - select pg_catalog.version()
[2024-07-22 00:27:27,894] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 00:27:27,916] #INFO     base.py:1846 - sqlalchemy.engine.Engine - select current_schema()
[2024-07-22 00:27:27,916] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 00:27:27,921] #INFO     base.py:1846 - sqlalchemy.engine.Engine - show standard_conforming_strings
[2024-07-22 00:27:27,921] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 00:27:27,925] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 00:27:27,969] #INFO     base.py:1846 - sqlalchemy.engine.Engine - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
[2024-07-22 00:27:27,970] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [generated in 0.00140s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
[2024-07-22 00:27:28,073] #INFO     base.py:2705 - sqlalchemy.engine.Engine - COMMIT
[2024-07-22 00:27:29,215] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874910 is handled. Duration 5140 ms by bot id=7417513030
[2024-07-22 00:27:30,780] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 00:27:30,787] #INFO     base.py:1846 - sqlalchemy.engine.Engine - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
[2024-07-22 00:27:30,788] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [cached since 2.818s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
[2024-07-22 00:27:30,819] #INFO     base.py:2705 - sqlalchemy.engine.Engine - COMMIT
[2024-07-22 00:27:30,933] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874911 is handled. Duration 3797 ms by bot id=7417513030
[2024-07-22 00:27:36,979] #INFO     base.py:1846 - sqlalchemy.engine.Engine - select pg_catalog.version()
[2024-07-22 00:27:36,985] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 00:27:36,988] #INFO     base.py:1846 - sqlalchemy.engine.Engine - select current_schema()
[2024-07-22 00:27:36,988] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 00:27:36,994] #INFO     base.py:1846 - sqlalchemy.engine.Engine - show standard_conforming_strings
[2024-07-22 00:27:36,995] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 00:27:37,002] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 00:27:37,012] #INFO     base.py:1846 - sqlalchemy.engine.Engine - SELECT users.id_user, users.user_id, users.telegram_id, users.username, users.subscription_status, users.subscription_start_date, users.subscription_end_date 
FROM users 
WHERE users.user_id = $1::BIGINT
[2024-07-22 00:27:37,012] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [generated in 0.00045s] (1087502760,)
[2024-07-22 00:27:37,028] #DEBUG    requests.py:33 - root - Get user by id=1087502760
[2024-07-22 00:27:37,029] #INFO     base.py:2702 - sqlalchemy.engine.Engine - ROLLBACK
[2024-07-22 00:27:37,249] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874912 is handled. Duration 1608 ms by bot id=7417513030
[2024-07-22 00:28:50,702] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874913 is handled. Duration 282 ms by bot id=7417513030
[2024-07-22 00:28:53,615] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 00:28:53,617] #INFO     base.py:1846 - sqlalchemy.engine.Engine - SELECT users.id_user, users.user_id, users.telegram_id, users.username, users.subscription_status, users.subscription_start_date, users.subscription_end_date 
FROM users 
WHERE users.user_id = $1::BIGINT
[2024-07-22 00:28:53,617] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [cached since 76.61s ago] (1087502760,)
[2024-07-22 00:28:53,625] #DEBUG    requests.py:33 - root - Get user by id=1087502760
[2024-07-22 00:28:53,626] #INFO     base.py:2702 - sqlalchemy.engine.Engine - ROLLBACK
[2024-07-22 00:28:53,734] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 00:28:53,742] #INFO     base.py:1846 - sqlalchemy.engine.Engine - UPDATE users SET subscription_status=$1::BOOLEAN, subscription_start_date=$2::DATE, subscription_end_date=$3::DATE WHERE users.user_id = $4::BIGINT
[2024-07-22 00:28:53,743] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [generated in 0.00157s] (True, datetime.date(2024, 7, 22), datetime.date(2024, 7, 27), 1087502760)
[2024-07-22 00:28:53,757] #INFO     base.py:2705 - sqlalchemy.engine.Engine - COMMIT
[2024-07-22 00:28:53,773] #DEBUG    requests.py:50 - root - Update user by id=1087502760
[2024-07-22 00:28:53,774] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874914 is handled. Duration 969 ms by bot id=7417513030
[2024-07-22 14:54:43,701] #INFO     base.py:1846 - sqlalchemy.engine.Engine - select pg_catalog.version()
[2024-07-22 14:54:43,706] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 14:54:43,725] #INFO     base.py:1846 - sqlalchemy.engine.Engine - select current_schema()
[2024-07-22 14:54:43,725] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 14:54:43,729] #INFO     base.py:1846 - sqlalchemy.engine.Engine - show standard_conforming_strings
[2024-07-22 14:54:43,730] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [raw sql] ()
[2024-07-22 14:54:43,734] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 14:54:43,767] #INFO     base.py:1846 - sqlalchemy.engine.Engine - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
[2024-07-22 14:54:43,767] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [generated in 0.00094s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
[2024-07-22 14:54:43,783] #INFO     base.py:2705 - sqlalchemy.engine.Engine - COMMIT
[2024-07-22 14:54:44,145] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874915 is handled. Duration 781 ms by bot id=7417513030
[2024-07-22 15:40:38,428] #INFO     base.py:2699 - sqlalchemy.engine.Engine - BEGIN (implicit)
[2024-07-22 15:40:38,430] #INFO     base.py:1846 - sqlalchemy.engine.Engine - SELECT users.id_user, users.user_id, users.telegram_id, users.username, users.subscription_status, users.subscription_start_date, users.subscription_end_date 
FROM users 
WHERE users.user_id = $1::BIGINT
[2024-07-22 15:40:38,430] #INFO     base.py:1846 - sqlalchemy.engine.Engine - [cached since 5.478e+04s ago] (1087502760,)
[2024-07-22 15:40:38,452] #DEBUG    requests.py:33 - root - Get user by id=1087502760
[2024-07-22 15:40:38,452] #INFO     base.py:2702 - sqlalchemy.engine.Engine - ROLLBACK
[2024-07-22 15:40:38,751] #INFO     dispatcher.py:172 - aiogram.event - Update id=588874916 is handled. Duration 342 ms by bot id=7417513030
[2024-07-22 22:11:50,522] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:11:50,530] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:12:01,801] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:18:25,235] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:18:25,235] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:18:36,501] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:23:39,111] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:23:39,111] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:23:50,374] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:23:50,376] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:23:50,376] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:24:01,642] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:30:45,628] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:30:45,628] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:30:56,880] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:35:19,149] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:35:19,150] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:35:30,425] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:38:11,869] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:38:11,869] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:38:23,133] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:41:04,563] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:41:04,563] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:41:15,815] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
[2024-07-22 22:45:18,463] #ERROR    dispatcher.py:219 - aiogram.dispatcher - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
[2024-07-22 22:45:18,464] #WARNING  dispatcher.py:221 - aiogram.dispatcher - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7417513030)
[2024-07-22 22:45:29,752] #INFO     dispatcher.py:233 - aiogram.dispatcher - Connection established (tryings = 1, bot id = 7417513030)
